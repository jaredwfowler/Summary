
#ifndef HTTP_DOWNLOADER_HPP
#define HTTP_DOWNLOADER_HPP

/***************************************************************************************************
************************         |\/| o  _ ._ _  |  _   _   _.  _           ************************
************************         |  | | (_ | (_) | (/_ (_| (_| (_ \/        ************************
************************                                _|        /         ************************
************************                      Estd. 2015                    ************************
****************************************************************************************************
****************************************************************************************************
**** The use, disclosure, reproduction, modification, transfer, or transmittal of this work for ****
**** any purpose in any form or by any means without the written permission of Microlegacy is   ****
**** strictly prohibited.                                                                       ****
****                                                                                            ****
**** Confidential, Unpublished Property of Microlegacy.                                         ****
**** Use and Distribution Limited Solely to Authorized Personnel.                               ****
****                                                                                            ****
**** All Rights Reserved                                                                        ****
****************************************************************************************************
CREATOR ********************************************************************************************
****************************************************************************************************
****  Name:  Jared Fowler
**** Title:  Co-Founder of Microlegacy
****  Date:  December 7, 2015
**** Email:  jaredwfowler@hotmail.com
****************************************************************************************************
VERSION ********************************************************************************************
****************************************************************************************************
** Version #: 1.0
** Version Date: December 7, 2015
** Revision Personnel: JFowler,
****************************************************************************************************
ABOUT **********************************************************************************************
****************************************************************************************************
A simple C++ wrapper for the libcurl easy API.
Written by Uli Köhler (techoverflow.net)
Published under CC0 1.0 Universal (public domain)
Modified by Jared Fowler
****************************************************************************************************
***************************************************************************************************/
//Dependencies======================================================================================
//==================================================================================================
#include <string>
#include <curl/curl.h>

#define HTPP_REQUEST_BUFFER_SIZE                                        4096

//Definition========================================================================================
//==================================================================================================
class HttpDownloader
{
public: //###########################################################################################
    //Vars,typedefs,etc.=============================================================================
    //===============================================================================================
    typedef enum
    {
        GET,
        POST
    }
    request_type_t;

    //###############################################################################################
    //Constructor(s)=================================================================================
    //===============================================================================================
    HttpDownloader();

    //Destructors====================================================================================
    //===============================================================================================
    ~HttpDownloader();

    //Do=============================================================================================
    //===============================================================================================
    std::string download(const char* _url, const char* _args, request_type_t _rt);

protected: //#######################################################################################
    //Vars,typedefs,etc.=============================================================================
    //===============================================================================================
    void* curl;
    CURLcode res;
    char requestBuilder[HTPP_REQUEST_BUFFER_SIZE];

    //Do=============================================================================================
    //===============================================================================================
    static size_t WriteCallback(void *contents, size_t size, size_t nmemb, void *userp);
    void destroyCurl();

};
//==================================================================================================
//End Definition====================================================================================

#endif
